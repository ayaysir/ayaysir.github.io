---
title: "자바: 텍스트 파일 입출력 (예제 - 간단한 로그 기록)"
date: 2019-11-15
categories: 
  - "DevLog"
  - "Java"

tags: 
  - "java"
  - "자바"
---

## **텍스트 파일 읽기 (BufferedReader 사용)**

텍스트 파일을 읽는 순서는 다음과 같습니다.

1. `File` 인스턴스를 생성
2. `File` 인스턴스를 파라미터로 하는 `FileReader` 인스턴스 생성
3. `FileReader` 인스턴스를 파라미터로 하는 `BufferedReader` 생성
4. `BufferedReader`에서 읽은 텍스트를 임시로 저장하는 `String` 타입의 변수 생성
5. `while`문과 버퍼리더의 `readLine()` 을 이용해 텍스트 파일을 한 줄씩 읽음
6. `BufferedReader`를 `close()` 시킴

### 코드

```java
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;

public class ReadEx {
  public static void main(String[] args) {
      
      File file = new File("example.txt");
      try{
          FileReader fr = new FileReader(file);
          BufferedReader br = new BufferedReader(fr);
          String line = "";
          while((line = br.readLine()) != null) {
              System.out.println(line);                
          }
          br.close();
      } catch(Exception e){
          
      }
  }
}
```

 ![](/assets/img/wp-content/uploads/2019/11/screenshot-2019-11-16-am-2.50.22.png)

위 코드를 **try with resources**(자바 7 이상 지원)으로 바꾸면 다음과 같습니다.

```java
try(FileReader fr = new FileReader(file);
		BufferedReader br = new BufferedReader(fr);){
	String line = "";
	while((line = br.readLine()) != null) {
		System.out.println(line); 
	}
} catch (FileNotFoundException e) {
  e.printStackTrace();
} catch (IOException e) {
  e.printStackTrace();
}

```

 

## **텍스트 파일 쓰기 (BufferedWriter 사용)**

텍스트 파일을 쓰는 순서는 다음과 같습니다.

1. `FileWriter` 인스턴스 생성
2. `FileWriter` 인스턴스를 파라미터로 하는 `BufferedWriter` 생성
3. `BufferedWriter`의 `write()`, `nextLine()`등을 이용해 파일 기록
4. `BufferedWriter`의 `flush()`를 이용해 버퍼를 비우고 파일 기록
5. `BufferedWriter`를 `close()` 시킴

### 코드

```java
import java.io.BufferedWriter;
import java.io.FileWriter;

public class WriteEx {
  public static void main(String[] args) throws Exception {
    FileWriter fw = new FileWriter("writeEx.txt", false);
    // 위에서 false는 isAppend 옵션으로, true를 하면 파일 뒤에 이어서 기록하며, 
    // false의 경우 파일을 초기화한다음 처음부터 기록
    
    BufferedWriter bw = new BufferedWriter(fw);
    bw.write("김밥 1줄");
    bw.newLine();
    bw.write("김밥 2줄");
    bw.flush();
	bw.close();
  }
}
```

 ![](/assets/img/wp-content/uploads/2019/11/screenshot-2019-11-16-am-3.00.38.png)

위 코드를 try with resources(자바 7 이상 지원)으로 바꾸면 다음과 같습니다.

```java
import java.io.BufferedWriter;
import java.io.FileWriter;

public class WriterEx2 {
  public static void main(String[] args) {
    try(BufferedWriter bw = new BufferedWriter(new FileWriter("writeEx2.txt", false))) {
      for(int i = 1; i <= 10; i++) {
        bw.write(String.format("김밥 %d줄", i));
        bw.newLine();
      }
      bw.flush();
    } catch(Exception e) {

    }
  }

}
```

 

## **예제 - 간단한 로그 기록**

https://gist.github.com/ayaysir/43fac1154644eaf4178197cbe916fe66

시스템 콘솔에 출력함과 동시에 텍스트 파일에도 해당 내용을 기록하는 예제입니다.

 

 ![](/assets/img/wp-content/uploads/2019/11/screenshot-2019-11-16-am-3.16.15.png)

 ![](/assets/img/wp-content/uploads/2019/11/screenshot-2019-11-16-am-3.16.55.png)
