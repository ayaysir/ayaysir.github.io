---
published: false
title: "워드프레스 '댓글 승인제'를 사용중인 경우 댓글 달았을 경우 메시지 표시하기"
date: 2021-04-01
categories: 
  - "none"
---

![](./assets/img/wp-content/uploads/2021/04/스크린샷-2021-04-01-오후-7.05.25.png)

워드프레스는 특성상 해외 스팸 댓글이 많이 달리기 때문에 사이트를 운영중인 경우 위의 설정처럼 댓글 승인제를 설정하고 사용하는 경우가 많습니다.

그런데 댓글 승인제를 설정해도 댓글 후 아무런 경고 메시지를 보내지 않기 때문에 댓글을 다는 사용자가 시스템 오류 등으로 댓글이 안달린 것으로 착각할 수 있습니다.

그래서 댓글 작성 후 성공 메시지를 표시하려면 테마 파일의 php 에 특정 코드를 추가해야 합니다.

 

##### **1) wp-admin 페이지에서 설정 -> 외모 -> 테마 편집기 메뉴에 들어갑니다.**

![](./assets/img/wp-content/uploads/2021/04/스크린샷-2021-04-01-오후-7.08.14.png)

 

##### **2) 화면 오른쪽의 테마 파일 목록에서 functions.php 를 선택합니다.**

![](./assets/img/wp-content/uploads/2021/04/스크린샷-2021-04-01-오후-7.09.22.png)

##### **3) 아래 코드를 파일의 맨 하단에 추가합니다.**

```
// === 댓글을 남긴 후 메시지 표시 ===
add_action( 'init', function() {
  if( $_COOKIE['ta_comment_wait_approval'] === '1' ) {
    setcookie( 'ta_comment_wait_approval', null, time() - 3600, '/' );
    add_action( 'comment_form_before', function() {
      // echo "<p id='wait_approval' style='padding-top: 40px;'><strong>댓글이 제출되었습니다. 감사합니다.</strong></p>";
      echo "<script>alert('댓글이 제출되었습니다. 감사합니다.\\n운영자 확인 후 승인이 된 경우 댓글이 등록됩니다.');</script>";
    });
  }
});
```

주석처리 되어있는 부분을 사용하는 경우 댓글창 위에 메시지가 표시되며, 자바스크립트 경고창으로 대신할 수도 있습니다. 이 때 라인 브레이크 문자 등을 사용하는 경우 `\\n` 으로 해야 오류가 나지 않습니다.

 

![](./assets/img/wp-content/uploads/2021/04/스크린샷-2021-04-01-오후-7.12.07.png)
