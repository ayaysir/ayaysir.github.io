---
title: AudioKitì˜ Sporth OperationGenerator
author: ayaysir
date: 2025-05-12 15:19:44 +0900
categories: [StudyLog, AudioKit]
tags: [AudioKit, á„‹á…³á†·á„’á…£á†¼á„‹á…µá„…á…©á†«]
---

# Sporth

**Sporth**ëŠ” \*\*"Small Portable Real-Time Sound Language"\*\*ì˜ ì¤„ì„ë§ë¡œ, **ê²½ëŸ‰ í…ìŠ¤íŠ¸ ê¸°ë°˜ ì˜¤ë””ì˜¤ DSP ì–¸ì–´**ì…ë‹ˆë‹¤. C ê¸°ë°˜ ì˜¤ë””ì˜¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ **Soundpipe**ì˜ ì¼ë¶€ë¡œ ê°œë°œë˜ì—ˆìœ¼ë©°, AudioKitì—ì„œë„ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## âœ… Sporthë€?

* **ëª©ì **: ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì‹ í˜¸ ì²˜ë¦¬ë¥¼ ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ ê¸°ìˆ í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ **ìŠ¤íƒ ê¸°ë°˜ ì–¸ì–´**
* **í˜•ì‹**: `"sine 440 0.5 mul"` ê°™ì€ **ë‹¨ìˆœí•œ í…ìŠ¤íŠ¸ ë¬¸ìì—´**
* **ì‹¤í–‰**: ì˜¤ë””ì˜¤ ê·¸ë˜í”„(DSP ì‹ í˜¸ íë¦„)ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±í•˜ê³  ì²˜ë¦¬í•¨
* **ìš©ë„**: í•©ì„±(synthesis), í•„í„°ë§, ì´í™íŠ¸, ì‹œí€€ì‹± ë“± ì˜¤ë””ì˜¤ ê´€ë ¨ ì²˜ë¦¬ ì „ë°˜

---

## ğŸ”§ Sporthì˜ ì‘ë™ ë°©ì‹ (ìŠ¤íƒ ê¸°ë°˜)

ìŠ¤íƒ ë¨¸ì‹ ì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤:

```sporth
440 sine 0.5 mul
```

ì´ ì˜ë¯¸ëŠ”:

1. 440 â†’ ìŠ¤íƒì— `440` í‘¸ì‹œ
2. `sine` â†’ ìŠ¤íƒì—ì„œ `440`ì„ êº¼ë‚´ ì‚¬ì¸íŒŒ ìƒì„± â†’ ê²°ê³¼ í‘¸ì‹œ
3. 0.5 â†’ `0.5` í‘¸ì‹œ
4. `mul` â†’ ë‘ ê°’ì„ êº¼ë‚´ ê³±í•¨ â†’ ìµœì¢… ì˜¤ë””ì˜¤ ì‹ í˜¸ ìƒì„±

---

## ğŸ§ª ì˜ˆì‹œ

### 1. ì‚¬ì¸íŒŒ ìƒì„±

```sporth
440 sine
```

â†’ 440Hz ì‚¬ì¸íŒŒ ìƒì„±

### 2. ë…¸ì´ì¦ˆ ìƒì„± + í•„í„°

```sporth
pinknoise 8000 tone
```

â†’ í•‘í¬ ë…¸ì´ì¦ˆë¥¼ 8kHzë¡œ ë¡œìš°íŒ¨ìŠ¤ í•„í„°ë§

### 3. ì˜¤í† íœë‹ + ë³¼ë¥¨ ì¡°ì ˆ

```sporth
0.5 0.5 sine pan 0.2 mul
```

â†’ ì˜¤í† íœë‹ëœ ì‚¬ìš´ë“œë¥¼ ë³¼ë¥¨ 20%ë¡œ ì¶œë ¥

---

## ğŸ¯ Sporthì˜ ì¥ì 

| í•­ëª©          | ì„¤ëª…                              |
| ----------- | ------------------------------- |
| ê°€ë³ê³  ë¹ ë¦„      | DSPë¥¼ ì§ì ‘ ì œì–´í•˜ëŠ” ë° ì í•©í•¨              |
| ì‹¤ì‹œê°„ ìˆ˜ì •      | ì˜¤ë””ì˜¤ ì¤‘ë‹¨ ì—†ì´ ì½”ë“œë¥¼ ë°”ê¿€ ìˆ˜ ìˆìŒ           |
| AudioKit í†µí•© | `OperationGenerator`ì—ì„œ ì‰½ê²Œ ì‚¬ìš© ê°€ëŠ¥ |

---

## ğŸ§© AudioKitê³¼ì˜ ê´€ê³„

AudioKitì—ì„œëŠ” `OperationGenerator(sporth: "ì½”ë“œ")` í˜•íƒœë¡œ Sporthë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë³µì¡í•œ UI ì—†ì´ë„ DSP ì•Œê³ ë¦¬ì¦˜ì„ ê°„ë‹¨íˆ ì‹¤í—˜í•˜ê±°ë‚˜ í”„ë¡œí† íƒ€ì´í•‘í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ë„êµ¬ì…ë‹ˆë‹¤.

---

# OperationGenerator

`OperationGenerator`ëŠ” **AudioKit**ì—ì„œ ì œê³µí•˜ëŠ” `Node`ì˜ ì„œë¸Œí´ë˜ìŠ¤ë¡œ, **Sporth ì½”ë“œ ê¸°ë°˜ì˜ ì‚¬ìš´ë“œ ìƒì„±ê¸°(Generator)** ì—­í• ì„ í•©ë‹ˆë‹¤. ì¦‰, ì‚¬ìš©ìê°€ ì œê³µí•˜ëŠ” Sporth DSL(ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´) ë˜ëŠ” AudioKitì˜ Operation APIë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜¤ë””ì˜¤ ì‹ í˜¸ë¥¼ ìƒì„±í•˜ëŠ” **ê°€ë³€í˜• DSP ë…¸ë“œ**ì…ë‹ˆë‹¤.

---

## âœ… ì£¼ìš” íŠ¹ì§•

### 1. **`Node` í”„ë¡œí† ì½œ ì±„íƒ**

* `OperationGenerator`ëŠ” AudioKitì˜ `Node`ë¥¼ ìƒì†ë°›ìœ¼ë©°,

  * `connections`ëŠ” ë¹ˆ ë°°ì—´ (ì—°ê²°ëœ ë…¸ë“œ ì—†ìŒ)
  * `avAudioNode`ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `instantiate(instrument: "cstg")`ë¥¼ í†µí•´ ìƒì„±ëœ `AVAudioNode`

---

### 2. **íŒŒë¼ë¯¸í„° 14ê°œ ì œê³µ**

* ìµœëŒ€ 14ê°œì˜ íŒŒë¼ë¯¸í„° (`parameter1` \~ `parameter14`)ë¥¼ ì§€ì›
* ê° íŒŒë¼ë¯¸í„°ëŠ” `@Parameter` í”„ë¡œí¼í‹° ë˜í¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ë¨
* ì‹¤ì œ `AUParameter`ë¡œ ì—°ê²°ë˜ì–´ ì™¸ë¶€ì—ì„œ ì‹¤ì‹œê°„ ì¡°ì ˆ ê°€ëŠ¥ (ì˜ˆ: UI ìŠ¬ë¼ì´ë”)

---

### 3. **ì—¬ëŸ¬ ì´ˆê¸°í™” ë°©ì‹ ì§€ì›**

#### a. ë‹¨ì¼ `Operation` ê¸°ë°˜ ì´ˆê¸°í™”

```swift
OperationGenerator(operation: { ops in
  ops[0].sineWave()
})
```

* ì…ë ¥ëœ `([Operation]) -> ComputedParameter` í´ë¡œì €ë¡œë¶€í„° Sporth ì½”ë“œë¥¼ ìƒì„±
* ë‹¨ì¼ ì±„ë„ì¸ ê²½ìš° `dup`, ìŠ¤í…Œë ˆì˜¤ì¸ ê²½ìš° `swap` ë“±ì„ Sporth ì½”ë“œì— ì‚½ì…í•˜ì—¬ ì±„ë„ ì •ë ¬

#### b. íŒŒë¼ë¯¸í„° ì—†ëŠ” `Operation`ë„ ê°€ëŠ¥

```swift
OperationGenerator(operation: {
  Operation.sineWave()
})
```

#### c. ìŠ¤í…Œë ˆì˜¤ `Operation` ë‘ ê°œ ì…ë ¥

```swift
OperationGenerator(channelCount: 2, operations: { ops in
  [ops[0].sineWave(), ops[1].squareWave()]
})
```

---

### 4. **Sporth ë¬¸ìì—´ ì§ì ‘ ì´ˆê¸°í™” ê°€ëŠ¥**

```swift
OperationGenerator(sporth: "pinknoise dup")
```

* Sporth ë¬¸ìì—´ì„ ì§ì ‘ ë„£ì–´ ì œë„ˆë ˆì´í„°ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŒ
* ë‚´ë¶€ì ìœ¼ë¡œ `akOperationSetSporth()`ë¥¼ í†µí•´ DSP ì„¤ì •

---

### 5. **trigger()ë¡œ ì‚¬ìš´ë“œ ì‹¤í–‰**

```swift
generator.trigger()
```

* `au.trigger()`ë¥¼ í˜¸ì¶œí•˜ì—¬ í˜„ì¬ íŒŒë¼ë¯¸í„°ë¡œ í•œ ë²ˆ ì‹¤í–‰
* ì£¼ë¡œ "ë³´ì´ìŠ¤", "ìƒ˜í”Œ", "íš¨ê³¼ìŒ" ë“±ì— ì‚¬ìš©

---

## ğŸ”§ í™œìš© ì˜ˆì‹œ

```swift
let generator = OperationGenerator {
  Operation.sineWave(frequency: Operation.parameter(1)) * 0.3
}
generator.parameter1 = 440
generator.start()
generator.trigger()
```

---

## ğŸ¯ ìš”ì•½

| ìš”ì†Œ             | ì„¤ëª…                                   |
| -------------- | ------------------------------------ |
| `Operation` ê¸°ë°˜ | AudioKit Operation API ë˜ëŠ” Sporthë¡œ êµ¬ì„± |
| íŒŒë¼ë¯¸í„°           | ìµœëŒ€ 14ê°œ ì‹¤ì‹œê°„ ì œì–´ìš©                       |
| ì¶œë ¥             | mono ë˜ëŠ” stereo                       |
| ì£¼ìš” ìš©ë„          | ì‚¬ìš´ë“œ í•©ì„±, íš¨ê³¼ ìƒì„±, ì‹¤í—˜ì  DSP ë…¸ë“œ êµ¬ì„±         |

---
