# Amplitude Envelope

`AmplitudeEnvelope`λ” AudioKitμ—μ„ **μ†λ¦¬μ λ³Όλ¥¨(μ§„ν­, amplitude)μ„ μ‹κ°„μ— λ”°λΌ μ μ–΄**ν•λ” **ADSR μ—”λ²¨λ΅ν”„(Envelope Generator)** μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

μ΄ μ»΄ν¬λ„νΈλ” **λ…ΈνΈμ μ‹μ‘κ³Ό λμ„ λ¶€λ“λ½κ² λ‹¤λ“¬λ” μ—­ν• **μ„ ν•λ©°,
νΉν λ…ΈνΈκ°€ κ°‘μκΈ° μ‹μ‘λκ±°λ‚ λκΈΈ λ• μƒκΈ°λ” "ν(pop)" μ†λ¦¬λ‚ λ¶€μμ—°μ¤λ¬μ΄ μ—°κ²°μ„ λ°©μ§€ν•©λ‹λ‹¤.

---

## π›οΈ AmplitudeEnvelopeλ€?

```swift
let env = AmplitudeEnvelope(osc)
```

* μ…λ ¥ λ…Έλ“(`osc`, μ¦‰ μ¤μ‹¤λ μ΄ν„°λ‚ μƒν”λ¬ λ“±)λ¥Ό κ°μ‹Έμ„,
  μ†λ¦¬κ°€ λ‚λ” λ™μ• μ§„ν­μ„ λ¶€λ“λ½κ² λ³€ν™”μ‹μΌ μ¤
* **ADSR κµ¬μ΅°**:

  * **A**ttack: μ†λ¦¬κ°€ μ‹μ‘λ ν›„ μµλ€ λ³Όλ¥¨κΉμ§€ λ„λ‹¬ν•λ” λ° κ±Έλ¦¬λ” μ‹κ°„
  * **D**ecay: μµλ€ λ³Όλ¥¨μ—μ„ μ§€μ† λ³Όλ¥¨κΉμ§€ λ‚΄λ ¤κ°€λ” μ‹κ°„
  * **S**ustain: ν‚¤λ¥Ό λ„λ¥΄κ³  μλ” λ™μ• μ μ§€λλ” λ³Όλ¥¨
  * **R**elease: ν‚¤λ¥Ό λ—€ ν›„ μ†λ¦¬κ°€ μ™„μ „ν μ‚¬λΌμ§€λ” μ‹κ°„

---

## π”§ μ£Όμ” λ©”μ„λ“

### β… `openGate()`

* \*\*λ…ΈνΈ μ¨(Note On)\*\*μ„ μλ―Έ
* μ—”λ²¨λ΅ν”„κ°€ **Attack β†’ Decay β†’ Sustain** λ‹¨κ³„λ΅ μ΄λ™
* μ‹¤μ λ΅λ” μ†λ¦¬κ°€ μ»¤μ§€λ” κ³Όμ •μ΄ μ‹μ‘λ¨

```swift
env.openGate()
```

β†’ `noteOn()`μ—μ„ νΈμ¶λ¨

---

### β… `closeGate()`

* \*\*λ…ΈνΈ μ¤ν”„(Note Off)\*\*λ¥Ό μλ―Έ
* μ—”λ²¨λ΅ν”„κ°€ **Release** λ‹¨κ³„λ΅ μ§„μ… β†’ μ„μ„ν λ³Όλ¥¨μ΄ μ¤„μ–΄λ“¦

```swift
env.closeGate()
```

β†’ `noteOff()`μ—μ„ νΈμ¶λ¨

---

## π§ μμ‹

```swift
env.attackDuration = 0.2
env.releaseDuration = 0.5
```

* `openGate()` μ‹: 0.2μ΄ λ™μ• λ³Όλ¥¨μ΄ μ¬λΌκ°€κ³  μ μ§€λ¨
* `closeGate()` μ‹: 0.5μ΄ λ™μ• λ³Όλ¥¨μ΄ μ„μ„ν μ¤„μ–΄λ“¦

---

## π― μ™ μ¤‘μ”ν•κ°€?

* **λ¶€λ“λ¬μ΄ λ…ΈνΈ μ—°κ²°**
  κ°‘μ‘μ¤λ¬μ΄ μ§„ν­ λ³€ν™” μ—†μ΄ μμ—°μ¤λ¬μ΄ μ‚¬μ΄λ“ μƒμ„±
* **μμ•…μ  ν‘ν„λ ¥ ν–¥μƒ**
  μ‚¬μ΄λ“μ— κ°μ •, μ›€μ§μ„, μƒλ™κ°μ„ λ¶€μ—¬
* **κΈ°λ³Έμ μΈ μμƒ‰ μ μ–΄ μλ‹¨**
  κ±°μ λ¨λ“  μ‹ μ‹μ‚¬μ΄μ €μ—μ„ κΈ°λ³Έμ μΌλ΅ μ΅΄μ¬ν•¨

---

## β… μ”μ•½

| μ”μ†                  | μ„¤λ…                                |
| ------------------- | --------------------------------- |
| `AmplitudeEnvelope` | μ§„ν­(λ³Όλ¥¨)μ„ μ‹κ°„μ— λ”°λΌ μ μ–΄ν•λ” AudioKit λ…Έλ“   |
| `openGate()`        | λ…ΈνΈ μ¨ (μ†λ¦¬ μ‹μ‘)                      |
| `closeGate()`       | λ…ΈνΈ μ¤ν”„ (μ†λ¦¬ κ°μ‡  μ‹μ‘)                  |
| μ£Ό μ©λ„                | μ†λ¦¬μ μμ—°μ¤λ¬μ΄ μ‹μ‘κ³Ό λ, ν λ…Έμ΄μ¦ μ κ±°, μμ•…μ  ν‘ν„ |

---

