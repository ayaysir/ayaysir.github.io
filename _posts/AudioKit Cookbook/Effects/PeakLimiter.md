# Peak Limiter

### ποΈ ν”Όν¬ λ¦¬λ―Έν„°(Peak Limiter)λ€?

**ν”Όν¬ λ¦¬λ―Έν„°**λ” μ¤λ””μ¤ μ‹ νΈμ μµλ€ μ§„ν­(peak amplitude)μ„ **κ°•μ λ΅ μ ν•(clamp)** ν•μ—¬ **μ§€μ •λ λ λ²¨ μ΄μƒμΌλ΅ μ‹ νΈκ°€ λ„μ–΄κ°€μ§€ μ•λ„λ΅** λ§‰λ” ν¨κ³Όμ…λ‹λ‹¤.
λ³΄ν†µ λ‹¤μκ³Ό κ°™μ€ μƒν™©μ— μ‚¬μ©λ©λ‹λ‹¤:

* π” **ν΄λ¦¬ν•‘ λ°©μ§€**: μ‹ νΈκ°€ λ„λ¬΄ μ»¤μ„ λ””μ§€ν„Έ ν΄λ¦¬ν•‘μ΄ λ°μƒν•λ” κ²ƒμ„ λ§‰κΈ° μ„ν•΄
* π¤ **λΌμ΄λΈ μ…λ ¥**: λ§μ΄ν¬λ‚ μ•…κΈ°μ²λΌ μμƒν•  μ μ—†λ” ν° μ†λ¦¬κ°€ λ“¤μ–΄μ¬ λ•
* π“Ό **λ§μ¤ν„°λ§**: μ¤λ””μ¤ νΈλ™μ ν”Όν¬λ¥Ό μΌμ • μμ¤€μΌλ΅ μ ν•ν•΄ κ³Όλ„ν• μ¶λ ¥ λ°©μ§€

---

## π”§ μ£Όμ” νλΌλ―Έν„° μ„¤λ…

```swift
Attack Time | 0.012 | 0.0005...0.03
Decay Time  | 0.024 | 0.001...0.04
Pre Gain    | 0.0   | -40.0...40.0
```

### 1. π•’ `Attack Time`

* **μλ―Έ**: μ…λ ¥ μ‹ νΈκ°€ μ„κ³„κ°’μ„ μ΄κ³Όν–μ„ λ• **λ¦¬λ―Έν…μ„ μ‹μ‘ν•λ” λ° κ±Έλ¦¬λ” μ‹κ°„ (μ΄)**
* **μ§§μ„μλ΅**: λΉ λ¥΄κ² λ°μ‘ν•΄ μκ°„μ μΈ ν”Όν¬λ„ μ μλΌλƒ…λ‹λ‹¤.
* **κΈΈμλ΅**: λ¶€λ“λ½κ² λ°μ‘ν•μ§€λ§, λΉ λ¥Έ νΈλμ§€μ–ΈνΈ(μ: ν‚¥ λ“λΌ)λ” λ†“μΉ  μ μμµλ‹λ‹¤.

| κ°’        | ν¨κ³Ό μ„¤λ…           |
| -------- | --------------- |
| `0.0005` | κ·Ήλ‹¨μ μΌλ΅ λΉ λ¥΄κ² λ°μ‘    |
| `0.012`  | μΌλ°μ μΈ μ„¤μ • (κΈ°λ³Έκ°’)   |
| `0.03`   | λλ¦¬κ² λ°μ‘, λ” μμ—°μ¤λ¬μ›€ |

---

### 2. π•“ `Decay Time`

* **μλ―Έ**: ν”Όν¬ λ¦¬λ―Έν„°κ°€ λ™μ‘ν• ν›„ **μ›λ μƒνƒλ΅ νλ³µλλ” μ‹κ°„ (μ΄)**
* **μ§§μ„μλ΅**: λ¦¬λ―Έν…μ΄ λΉ λ¥΄κ² ν•΄μ λ¨ β†’ μ†λ¦¬κ°€ ν€λ“― λ“¤λ¦΄ μ μμ
* **κΈΈμλ΅**: λ” λ¶€λ“λ½κ³  μμ—°μ¤λ½κ² ν•΄μ λ¨ β†’ μ§€μ†μ μΈ λ¦¬λ―Έν… ν¨κ³Ό

| κ°’       | ν¨κ³Ό μ„¤λ…          |
| ------- | -------------- |
| `0.001` | λΉ λ¥΄κ² μ›μƒ λ³µκµ¬λ¨     |
| `0.024` | μΌλ°μ μΈ μ„¤μ • (κΈ°λ³Έκ°’)  |
| `0.04`  | μμ—°μ¤λ½κ³  λ¶€λ“λ½κ² λ³µμ›λ¨ |

---

### 3. π” `Pre Gain`

* **μλ―Έ**: **λ¦¬λ―Έν„° μ „μ—** μ‹ νΈλ¥Ό μ¦ν­ or κ°μ‡ 
* **μ©λ„**:

  * μλ‰μ΄ μ‘μ€ μ†μ¤λ¥Ό λ¦¬λ―Έν„° μμ¤€κΉμ§€ λμ–΄μ¬λ¦΄ λ•
  * λ¦¬λ―Έν… ν…μ¤νΈλ¥Ό μ„ν•΄ μ‹ νΈλ¥Ό κ°•μ λ΅ ν΄λ¦¬ν•‘ μμ¤€κΉμ§€ μ¬λ¦΄ λ•
* **μ–‘μ κ°’**: λ¦¬λ―Έν„°κ°€ λ” μμ£Ό, λ” κ°•ν•κ² μ‘λ™ν•¨
* **μμ κ°’**: μ‹ νΈκ°€ μ•½ν•΄μ Έ λ¦¬λ―Έν„°κ°€ μ μ‘λ™ν•μ§€ μ•μ

| κ°’       | ν¨κ³Ό                |
| ------- | ----------------- |
| `-40.0` | κ±°μ λ¦¬λ―Έν… μ‘λ™ μ• ν•¨     |
| `0.0`   | μ›λ λ³Όλ¥¨             |
| `+10.0` | ν”Όν¬ λ¦¬λ―Έν… μμ£Ό λ°μƒ      |
| `+40.0` | λ§¤μ° μμ£Ό λ¦¬λ―Έν… λ°μƒ (κ°•μ ) |

---

## π“ μ‹κ°μ  μμ‹

```
μ›λ μ‹ νΈ:      β”€β”€β”€β”€β”€β”€β”€β”€β–‡β–‡β–‡β–‡β–‡β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€

λ¦¬λ―Έν„° μ μ© ν›„: β”€β”€β”€β”€β”€β”€β”€β”€β–β–β–β–β–β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€  β† μΌμ • λ λ²¨ μ΄μƒ κΉμ„
```

---

## μ°Έκ³ : λ¦¬λ―Έν„°μ™€ μ»΄ν”„λ μ„μ μ°¨μ΄

μΌλ°μ μΌλ΅ **PeakLimiter**λ” "μ–΄λ λ³Όλ¥¨λ¶€ν„° λ¦¬λ―ΈνΈλ¥Ό κ±Έμ§€"μ— λ€ν• **λ…μ‹μ μΈ μ„κ³„κ°’(threshold) μ„¤μ •μ΄ μ—†μµλ‹λ‹¤**. λ€μ‹ , **λ‚΄λ¶€μ μΌλ΅ κ³ μ •λ threshold** κ°’μ„ κΈ°μ¤€μΌλ΅ λ™μ‘ν•©λ‹λ‹¤. μ¦‰:

* **PeakLimiter**λ” μ‚¬μ©μκ°€ threshold(μ„κ³„κ°’)λ¥Ό μ§μ ‘ μ„¤μ •ν•μ§€ μ•μ•„λ„,
* **λ‚΄λ¶€μ—μ„ μ μ ν• μ„κ³„κ°’**(μ: -0.1dBFS, -0.3dBFS λ“±)μ„ κΈ°μ¤€μΌλ΅ νλ‹¨ν•μ—¬,
* **κ·Έ μ΄μƒμΌλ΅ μ¬λΌκ°€λ” ν”Όν¬**μ— μλ™μΌλ΅ λ¦¬λ―ΈνΈ(limiting)λ¥Ό μ μ©ν•©λ‹λ‹¤.

### π“ λ¦¬λ―Έν„° vs μ»΄ν”„λ μ„ λΉ„κµ

| κµ¬λ¶„            | PeakLimiter             | Compressor               |
| ------------- | ----------------------- | ------------------------ |
| **Threshold** | μ‚¬μ©μκ°€ **μ„¤μ • λ»ν•¨** (λ‚΄μ¥κ°’ μ‚¬μ©) | μ‚¬μ©μκ°€ **μ§μ ‘ μ„¤μ •ν•¨**          |
| **Ratio**     | λ§¤μ° λ†’μ (β:1)             | λ‹¤μ–‘ν•κ² μ„¤μ • κ°€λ¥ (μ: 2:1, 4:1) |
| **μ©λ„**        | ν”Όν¬ κΈ‰λ½ λ°©μ§€, ν΄λ¦¬ν•‘ λ°©μ§€        | μλ‰ κ· ν• μ΅°μ , λ‹¤μ΄λ‚΄λ―Ή ν†¤ μ—°μ¶      |
| **μ μ© μ‹μ **     | **λ§μ¤ν„°λ§**, λΌμ΄λΈ μ…λ ¥ μ•μ •ν™”    | κ°λ³„ νΈλ™ μ΅°μ •, λ―Ήμ‹± λ‹¨κ³„ λ“±        |


### π’΅ λ‚΄λ¶€ μ„κ³„κ°’μ΄λ€?

AudioKitμ `PeakLimiter`λ” Appleμ `AVAudioUnitPeakLimiter`λ¥Ό κ°μμΌλ©°, ν•΄λ‹Ή Apple λ¬Έμ„μ—μ„λ” threshold μ„¤μ •μ΄ μ—†κ³  λ‹¤μμ²λΌ μ„¤λ…λ©λ‹λ‹¤:

> β€This effect prevents clipping by automatically limiting the amplitude of audio that exceeds a certain internal threshold. (μ΄ ν¨κ³Όλ” νΉμ • λ‚΄λ¶€ μ„κ³„κ°’μ„ μ΄κ³Όν•λ” μ¤λ””μ¤μ μ§„ν­μ„ μλ™μΌλ΅ μ ν•ν•μ—¬ ν΄λ¦¬ν•‘μ„ λ°©μ§€ν•©λ‹λ‹¤.)β€

μ¦‰, **μ‚¬μ©μκ°€ μ§μ ‘ μ–΄λ λ³Όλ¥¨λ¶€ν„° μλ¥Όμ§€λ” λ» μ •ν•κ³ **, λ¦¬λ―Έν„°κ°€ μλ™μΌλ΅ νλ‹¨ν•΄ μ μ©ν•λ” κµ¬μ΅°μ…λ‹λ‹¤.

---

## β… μ •λ¦¬

| μ”μ†          | μ„¤λ…                        |
| ----------- | ------------------------- |
| PeakLimiter | μµλ€ μ‹ νΈ μ§„ν­μ„ μ ν•ν•μ—¬ ν΄λ¦¬ν•‘ λ°©μ§€     |
| Attack Time | λ¦¬λ―Έν„°κ°€ **μ‘λ™μ„ μ‹μ‘ν•λ”** μ†λ„      |
| Decay Time  | λ¦¬λ―Έν„°κ°€ **μ›μƒλ³µκ·€ν•λ”** μ†λ„        |
| Pre Gain    | λ¦¬λ―Έν„° μ „μ— μ‹ νΈ μ¦ν­/κ°μ‡            |
| ν™μ© μƒν™©       | λΌμ΄λΈ μ…λ ¥, λ§μ¤ν„°λ§, κ³Όλ„ν• ν”Όν¬ λ°©μ§€ λ“± |

μ΄ λ¦¬λ―Έν„°λ” νΉν μμƒν•  μ μ—†λ” μ…λ ¥μ μµλ€ μλ‰μ„ μ•μ „ν•κ² μ ν•ν•  λ• μ μ©ν•©λ‹λ‹¤.
