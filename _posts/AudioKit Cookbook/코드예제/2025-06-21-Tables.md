---
title: "AudioKit: AudioKitUIì˜ Tables ì‚¬ìš©ë²•"
author: ayaysir
date: 2025-06-21 20:11:40 +0900
categories: [StudyLog, AudioKit]
tags: [AudioKit, á„‹á…³á†·á„’á…£á†¼á„‹á…µá„…á…©á†«]
---

# Tables

- [ì½”ë“œ ë³´ê¸°](https://github.com/ayaysir/Swift-Playgrounds/blob/main/AudioKit%20Cookbook%20Copy/AudioKit%20Cookbook%20Copy/Recipe/UncategorizedDemos/Tables.swift)

ì´ ì½”ë“œëŠ” `AudioKit`ì˜ `Table` ê°ì²´ë“¤ì„ ìƒì„±í•˜ê³  ì‹œê°í™”í•˜ëŠ” SwiftUI ë·°ì…ë‹ˆë‹¤.
íŠ¹íˆ ìƒì„±ì(`init()`)ì—ì„œëŠ” ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ **íŒŒí˜• í…Œì´ë¸”**(Table)ì„ ìƒì„±í•˜ì—¬ ì˜¤ì‹¤ë ˆì´í„° ë“±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¤€ë¹„í•©ë‹ˆë‹¤.
ì´ Tableë“¤ì€ ì‚¬ì¸íŒŒ, ì •ì‚¬ê°íŒŒ, ì‚¬ìš©ì ì •ì˜ íŒŒí˜• ë“±ì˜ **ë£¨í”„ ê°€ëŠ¥í•œ ë‹¨ì¼ ì‚¬ì´í´ ì›¨ì´ë¸Œí¼**ì…ë‹ˆë‹¤.

## í´ë˜ìŠ¤ ê°œìš”: `TableConductor`

ì´ í´ë˜ìŠ¤ëŠ” `ObservableObject`ë¡œ, UIì—ì„œ ì´ ê°ì²´ì˜ `@Published` ê°’ì„ ê´€ì°°í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```swift
class TableConductor: ObservableObject
```

### ì†ì„± ëª©ë¡

| ì†ì„± ì´ë¦„          | ì—­í•                          |
| -------------- | -------------------------- |
| `square`       | ì •ì‚¬ê°í˜• íŒŒí˜• í…Œì´ë¸” (Square Wave)  |
| `triangle`     | ì‚¼ê°í˜• íŒŒí˜• í…Œì´ë¸” (Triangle Wave) |
| `sine`         | ì‚¬ì¸íŒŒ í…Œì´ë¸” (Sine Wave)        |
| `sineHarmonic` | í•˜ëª¨ë‹‰(ë°°ìŒ) ê¸°ë°˜ì˜ ì‚¬ì¸íŒŒ            |
| `fileTable`    | ì˜¤ë””ì˜¤ íŒŒì¼ ê¸°ë°˜ íŒŒí˜•               |
| `custom`       | ì‚¬ìš©ì ì •ì˜ íŒŒí˜• (ë‚œìˆ˜ + ì¸ë±ìŠ¤ ê¸°ë°˜)    |

## ìƒì„±ì ì„¤ëª…: `init()`

### 1. ê¸°ë³¸ íŒŒí˜• í…Œì´ë¸” ìƒì„±

```swift
square = .init(.square, count: 128)
triangle = .init(.triangle, count: 128)
sine = .init(.sine, count: 256)
```

* `.init(_:count:)`ëŠ” í•´ë‹¹ íŒŒí˜• ìœ í˜•ì˜ í…Œì´ë¸”ì„ ì§€ì •ëœ í¬ê¸°ë§Œí¼ ìƒì„±
* `count`ëŠ” **í…Œì´ë¸” ê¸¸ì´ (ìƒ˜í”Œ ìˆ˜)**, 2ì˜ ì œê³±ìˆ˜ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì  (FFT ë“± ì„±ëŠ¥ì— ì˜í–¥)

### 2. ì˜¤ë””ì˜¤ íŒŒì¼ ê¸°ë°˜ íŒŒí˜• ìƒì„±

```swift
let url = GlobalSource.piano.url!
let file = try! AVAudioFile(forReading: url)
fileTable = .init(file: file)!
```

* `.sfz` ë˜ëŠ” `.wav` ë“±ì˜ ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì½ì–´ ë“¤ì—¬ íŒŒí˜• í…Œì´ë¸”ë¡œ ë³€í™˜
* `fileTable`ì€ ì‹¤ì œ ìŒì„± ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë£¨í”„ í…Œì´ë¸”ì´ ë¨
  
**ì£¼ì˜:**
* íŒŒì¼ ë¡œë”©ì€ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒì„±ìì—ì„œ ì§ì ‘ í•˜ì§€ ë§ê³  `task` ë“±ì„ í†µí•´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰

### 3. í•˜ëª¨ë‹‰ ì˜¤ë²„í†¤ ê¸°ë°˜ í…Œì´ë¸” ìƒì„±

```swift
let harmonicOvertoneAmplitudes: [Float] = [
  0.0, 0.0, 0.016, 0.301
]
sineHarmonic = .init(.harmonic(harmonicOvertoneAmplitudes), phase: 0.75)
```

* `AudioKit.TableType.harmonic(_)`ì€ **ê¸°ë³¸íŒŒ + ë°°ìŒ(amplitudes)**ìœ¼ë¡œ êµ¬ì„±ëœ íŒŒí˜• ìƒì„±
* `harmonicOvertoneAmplitudes[n]`ì€ **(n+1)ë²ˆì§¸ ê³ ì¡°íŒŒì˜ ì„¸ê¸°**
* `phase: 0.75`ëŠ” **ìœ„ìƒ ì˜¤í”„ì…‹**ìœ¼ë¡œ, ì‹œì‘ ì§€ì ì„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ 75%ë§Œí¼ ì´ë™

ì˜ˆ:
ë°°ìŒ = `[0.0, 0.0, 0.016, 0.301]`
â†’ ê¸°ë³¸íŒŒ ì—†ìŒ, 3ë²ˆì§¸ì™€ 4ë²ˆì§¸ ê³ ì¡°íŒŒë§Œ ìˆëŠ” íŒŒí˜•

### 4. ì‚¬ìš©ì ì •ì˜ íŒŒí˜• ìƒì„±

```swift
custom = Table(.sine, count: 256)
for i in custom.indices {
  custom[i] += Float.random(in: -0.5...0.5) + Float(i) / 2048.0
}
```

* ë¨¼ì € ì‚¬ì¸íŒŒ í…Œì´ë¸”ì„ ìƒì„±í•œ ë’¤, ê° ìƒ˜í”Œì— **ë¬´ì‘ìœ„ ê°’ + ì¸ë±ìŠ¤ ê¸°ë°˜ ê°’**ì„ ë”í•¨
* ì´ëŠ” **ì¡ìŒ ì„±ë¶„ì´ ì„ì¸ ì‚¬ì¸íŒŒ ë˜ëŠ” ë³€í˜•ëœ íŒŒí˜•**ì„ ë§Œë“¤ê¸° ìœ„í•œ ëª©ì 

ì˜ˆ:

* `Float.random(in: -0.5...0.5)` â†’ ëœë¤ ë…¸ì´ì¦ˆ
* `Float(i) / 2048.0` â†’ ìœ„ì¹˜ì— ë”°ë¼ ì¦ê°€í•˜ëŠ” ê°’


## í…Œì´ë¸” ì‹œê°í™” ë·° (`TableDataView`)

```swift
struct TableDataView: UIViewRepresentable
```

* AudioKitì—ì„œ ì œê³µí•˜ëŠ” `TableView`ë¥¼ UIKit ê¸°ë°˜ìœ¼ë¡œ ê°ì‹¸ SwiftUIì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ í•¨
* `table`ì„ ì£¼ì…ë°›ì•„ `makeUIView`ì—ì„œ ê·¸ë ¤ì¤Œ

## ğŸ“± SwiftUI êµ¬ì„± (`TableRecipeView`)

```swift
VStack {
  Text("Square")
  TableDataView(table: conductor.square)
  ...
}
```

* ê° Tableì„ `Text`ì™€ í•¨ê»˜ ë‚˜ì—´í•˜ì—¬ ì‹œê°ì ìœ¼ë¡œ ë¹„êµ ê°€ëŠ¥

## ìš”ì•½

| ìƒì„± ë°©ì‹                      | ì„¤ëª…              |
| -------------------------- | --------------- |
| `.init(.sine, count: N)`   | ê¸°ë³¸í˜• íŒŒí˜• ìƒì„±       |
| `.init(file:)`             | ì˜¤ë””ì˜¤ íŒŒì¼ ê¸°ë°˜ íŒŒí˜•    |
| `.init(.harmonic, phase:)` | ë°°ìŒ ê¸°ë°˜ ì‚¬ìš©ì ì •ì˜ íŒŒí˜• |
| `.init` + ì¸ë±ìŠ¤ ìˆ˜ì‹           | ì™„ì „ ì»¤ìŠ¤í…€ íŒŒí˜•       |

