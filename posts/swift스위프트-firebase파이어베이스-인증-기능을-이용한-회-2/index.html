<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)" />
<meta property="og:locale" content="ko" />
<meta name="description" content="Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드) Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)" />
<meta property="og:description" content="Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드) Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)" />
<link rel="canonical" href="https://ayaysir.github.io/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C-2/" />
<meta property="og:url" content="https://ayaysir.github.io/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C-2/" />
<meta property="og:site_name" content="BGSMM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-20T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)" />
<meta name="google-site-verification" content="pvY2wZTkfhJgJGUCvK9k0h-YX3Be3V-u1J4pE6FriWA" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-09-20T00:00:00+09:00","datePublished":"2021-09-20T00:00:00+09:00","description":"Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드) Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)","headline":"Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)","mainEntityOfPage":{"@type":"WebPage","@id":"https://ayaysir.github.io/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C-2/"},"url":"https://ayaysir.github.io/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C-2/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드) | BGSMM
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="BGSMM">
<meta name="application-name" content="BGSMM">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>

  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/./assets/img/favicons/mstile-150x150.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">BGSMM</a>
    <p class="site-subtitle fst-italic mb-0">음악, 레트로테크 좋아함</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    

      
        <a
          href="https://github.com/ayaysir"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    

      
        <a
          href="javascript:location.href = 'mailto:' + ['yoonbumtae','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
          
        

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1632063600"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Sep 20, 2021
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/ayaysir">ayaysir</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="5275 words"
>
  <em>29 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 2 - 프로필 사진 올리기 (스토리보드)</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <ul>
  <li><a href="http://yoonbumtae.com/?p=4090">Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드)</a></li>
  <li><a href="http://yoonbumtae.com/?p=4099">Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)</a></li>
</ul>

<p> </p>

<p>지난번 글에서 프로필 사진을 제외한 모든 정보로 회원가입 하는 것을 다뤄봤으므로, 이번에는 사진을 업로드하는 과정을 진행하겠습니다.</p>

<p>사진 파일 업로드는 Firebase의 <code class="language-plaintext highlighter-rouge">Storage</code> 서비스를 이용합니다.</p>

<p>프로필 사진을 업로드할 때 원본 사진도 필요하지만 작은 공간에 필요한 섬네일(Thumbnail) 이미지도 필요합니다. 네트워크 상에서 파일을 주고받는 만큼 트래픽을 줄이는 것이 중요하기 때문입니다. 파이어베이스에 이미지를 업로드하면 자동으로 섬네일을 만들어주는 기능이 존재하기는 하지만 파이어베이스 무료 버전에서는 존재하지 않고 유료 요금제를 사용해야 합니다.</p>

<p>따라서 이 예제에서는 디바이스에서 섬네일 이미지 파일을 만들어서 원본 + 섬네일 두 파일을 업로드하는 방식을 사용하도록 하겠습니다.</p>

<p>파이어베이스 인증 메뉴의 회원은 <code class="language-plaintext highlighter-rouge">uid</code>라는 고유값을 통해 구분하게 됩니다. 이 <code class="language-plaintext highlighter-rouge">uid</code>를 이용해 사진을 저장하고, 나중에 회원정보 불러오기 메뉴를 만들 때에도 <code class="language-plaintext highlighter-rouge">uid</code>를 통해 사진을 불러올 수 있습니다.</p>

<p> </p>

<h3 id="섬네일-생성-함수-추가"><span class="me-2"><strong>섬네일 생성 함수 추가</strong></span><a href="#섬네일-생성-함수-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>아래 함수는 <code class="language-plaintext highlighter-rouge">UIImage</code>를 받아 가로 또는 세로의 최대 사이즈가 <code class="language-plaintext highlighter-rouge">maxSize</code>인 섬네일을 생성합니다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">func</span> <span class="nf">makeImageThumbnail</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">,</span> <span class="nv">maxSize</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIImage</span><span class="p">?</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">imageData</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="nf">jpegData</span><span class="p">(</span><span class="nv">compressionQuality</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span>

    <span class="k">let</span> <span class="nv">options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="nv">kCGImageSourceCreateThumbnailWithTransform</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nv">kCGImageSourceCreateThumbnailFromImageAlways</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nv">kCGImageSourceThumbnailMaxPixelSize</span><span class="p">:</span> <span class="n">maxSize</span><span class="p">]</span> <span class="k">as</span> <span class="kt">CFDictionary</span> <span class="c1">// Specify your desired size at kCGImageSourceThumbnailMaxPixelSize. I've specified 100 as per your question</span>
    
    <span class="k">var</span> <span class="nv">thumbnail</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">?</span>
    <span class="n">imageData</span><span class="o">.</span><span class="n">withUnsafeBytes</span> <span class="p">{</span> <span class="n">pointer</span> <span class="k">in</span>
       <span class="k">guard</span> <span class="k">let</span> <span class="nv">bytes</span> <span class="o">=</span> <span class="n">pointer</span><span class="o">.</span><span class="n">baseAddress</span><span class="p">?</span><span class="o">.</span><span class="nf">assumingMemoryBound</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">UInt8</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">return</span>
       <span class="p">}</span>
       <span class="k">if</span> <span class="k">let</span> <span class="nv">cfData</span> <span class="o">=</span> <span class="kt">CFDataCreate</span><span class="p">(</span><span class="n">kCFAllocatorDefault</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">imageData</span><span class="o">.</span><span class="n">count</span><span class="p">){</span>
          <span class="k">let</span> <span class="nv">source</span> <span class="o">=</span> <span class="kt">CGImageSourceCreateWithData</span><span class="p">(</span><span class="n">cfData</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span><span class="o">!</span>
          <span class="k">let</span> <span class="nv">imageReference</span> <span class="o">=</span> <span class="kt">CGImageSourceCreateThumbnailAtIndex</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span><span class="o">!</span>
          <span class="n">thumbnail</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">cgImage</span><span class="p">:</span> <span class="n">imageReference</span><span class="p">)</span> <span class="c1">// You get your thumbail here</span>
       <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">thumbnail</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>참고글</p>

<ul>
  <li><a href="https://blog.canapio.com/110">[번역]언세이프 스위프트: 포인터를 사용해보고, C와함께 상호작용하기</a></li>
  <li><a href="https://academy.realm.io/kr/posts/nate-cook-tryswift-tokyo-unsafe-swift-and-pointer-types/">Swift가 제공하는 여러 포인터 타입들과 동작 방식</a></li>
</ul>

<p> </p>

<h3 id="스토리보드에서-사진-업로드-부분-만들기"><span class="me-2"><strong>스토리보드에서 사진 업로드 부분 만들기</strong></span><a href="#스토리보드에서-사진-업로드-부분-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>먼저 뷰 컨트롤러에서 <code class="language-plaintext highlighter-rouge">Photos</code>를 불러옵니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>import Photos
</pre></td></tr></tbody></table></code></div></div>

<p>.</p>

<h5 id="1-스토리보드-ui-만들기"><span class="me-2"><strong>1. 스토리보드 UI 만들기</strong></span><a href="#1-스토리보드-ui-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<p>아래 사진과 같이 이미지 뷰(<code class="language-plaintext highlighter-rouge">UIImageView</code>), 버튼(<code class="language-plaintext highlighter-rouge">UIButton</code>) 두 개를 회원가입 폼에 추가합니다.</p>

<p><a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-9.06.27.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-9.06.27.jpg" alt="" loading="lazy"></a></p>

<p> </p>

<p>이미지 뷰는 <code class="language-plaintext highlighter-rouge">@IBOutlet</code>, 버튼은 <code class="language-plaintext highlighter-rouge">@IBAction</code>으로 연결합니다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">imgProfilePicture</span><span class="p">:</span> <span class="kt">UIImageView</span><span class="o">!</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kd">@IBAction</span>  <span class="kd">func</span> <span class="nf">btnActTakePhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 카메라</span>
<span class="p">}</span>

<span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActFromLoadPhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 사진 보관함</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p> </p>

<h4 id="2-멤버-변수-추가"><span class="me-2"><strong>2   멤버 변수 추가</strong></span><a href="#2-멤버-변수-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>사진 보관함에서 사진을 불러올 때, 또는 카메라에서 사진을 찍을 때 사용하는 뷰 컨트롤러인 이미지 피커 뷰 컨트롤러(<code class="language-plaintext highlighter-rouge">UIImageViewController</code>)와 섬네일 이미지를 저장할 변수인 <code class="language-plaintext highlighter-rouge">imgProfilePicture</code> 멤버 변수를 추가합니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>let imagePickerController = UIImagePickerController()
var userProfileThumbnail: UIImage!

</pre></td></tr></tbody></table></code></div></div>

<p> </p>

<h5 id="3-이미지-관련-딜리게이트-코드-추가"><span class="me-2"><strong>3. 이미지 관련 딜리게이트 코드 추가</strong></span><a href="#3-이미지-관련-딜리게이트-코드-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<p><code class="language-plaintext highlighter-rouge">viewDidLoad(_:)</code>에 아래 부분을 추가합니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>// 사진: 이미지 피커에 딜리게이트 생성
imagePickerController.delegate = self

// 최초 섬네일 생성
userProfileThumbnail = makeImageThumbnail(image: #imageLiteral(resourceName: "sample"), maxSize: 200)
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">imagePickerController.delegate</code> = 딜리게이트로 <code class="language-plaintext highlighter-rouge">self</code>(<code class="language-plaintext highlighter-rouge">SignUpViewController</code>)를 지정합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">userProfileThumbnail</code> - 오류를 방지하기 위해 기본 섬네일을 이미지 리터럴 형태로 지정합니다.</li>
</ul>

<p> </p>

<p>아래 <code class="language-plaintext highlighter-rouge">extension</code>을 추가합니다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
</pre></td><td class="rouge-code"><pre><span class="kd">extension</span> <span class="kt">SignUpViewController</span><span class="p">:</span> <span class="kt">UIImagePickerControllerDelegate</span><span class="p">,</span> <span class="kt">UINavigationControllerDelegate</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span><span class="n">_</span> <span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">,</span> <span class="n">didFinishPickingMediaWithInfo</span> <span class="nv">info</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIImagePickerController</span><span class="o">.</span><span class="kt">InfoKey</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="kt">UIImagePickerController</span><span class="o">.</span><span class="kt">InfoKey</span><span class="o">.</span><span class="n">originalImage</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">UIImage</span> <span class="p">{</span>
            <span class="n">imgProfilePicture</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
            <span class="n">userProfileThumbnail</span> <span class="o">=</span> <span class="nf">makeImageThumbnail</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span> <span class="nv">maxSize</span><span class="p">:</span> <span class="mi">200</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="kt">UIAlertAction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">settingsUrl</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">openSettingsURLString</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">canOpenURL</span><span class="p">(</span><span class="n">settingsUrl</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">open</span><span class="p">(</span><span class="n">settingsUrl</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"Settings opened: </span><span class="se">\(</span><span class="n">success</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> <span class="c1">// Prints true</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">doTaskByPhotoAuthorization</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kt">PHPhotoLibrary</span><span class="o">.</span><span class="nf">authorizationStatus</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">notDetermined</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; not determined"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"사진 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 정보 없음"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="n">openSetting</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">restricted</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; restricted"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"시스템에 의해 거부되었습니다."</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">denied</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; denied"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"사진 기능 권한이 거부되어 사용할 수 없습니다. 사진 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 거부됨"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:))</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">authorized</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; authorized"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">limited</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; limited"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="kd">@unknown</span> <span class="k">default</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; unknown"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"unknown"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">doTaskByCameraAuthorization</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kt">AVCaptureDevice</span><span class="o">.</span><span class="nf">authorizationStatus</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="kt">AVMediaType</span><span class="o">.</span><span class="n">video</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">notDetermined</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; not determined"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 정보 없음"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="n">openSetting</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">restricted</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; restricted"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"시스템에 의해 거부되었습니다."</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">denied</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; denied"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 기능 권한이 거부되어 사용할 수 없습니다. 카메라 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 거부됨"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:))</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">authorized</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; authorized"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="kd">@unknown</span> <span class="k">default</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; unknown"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"unknown"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">imagePickerController(...didFinishPickingMediaWithInfo...)</code> - 이미지 피커 컨트롤러에서 이미지가 선택되었을 때 해야 할 동작들을 지정합니다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">info[UIImagePickerController.InfoKey.originalImage]</code> - 선택된 이미지입니다.</li>
      <li><code class="language-plaintext highlighter-rouge">imgProfilePicture.image = image</code> - 미리보기 이미지를 표시합니다.</li>
      <li><code class="language-plaintext highlighter-rouge">userProfileThumbnail = makeImageThumbnail(image: image, maxSize: 200)</code> - 최대 크기가 200인 섬네일을 생성합니다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">openSetting</code> - 카메라 또는 사진 보관함의 권한이 거부되었을 때, 앱 사용자에게 권한 허용을 유도하기 위해 사용합니다. 이 함수가 실행되면 디바이스의 앱 설정 메뉴로 이동합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">doTaskByPhotoAuthorization(), doTaskByCameraAuthorization()</code> - 사진 보관함과 카메라의 현재 권한 레벨에 따라 해야할 동작들을 swtch 문을 이용해 지정합니다.
    <ul>
      <li><a href="http://yoonbumtae.com/?p=3831">Swift (스위프트): 사진 라이브러리, 카메라 사용 (스토리보드)</a></li>
    </ul>
  </li>
</ul>

<p><code class="language-plaintext highlighter-rouge">simpleAlert</code> 함수는 경고 창을 띄우는 과정을 간소화한 커스터마이징 함수입니다. (<a href="https://github.com/ayaysir/iOS-DiffuserStick/blob/main/DiffuserStick/util/AlertUtil.swift">바로가기</a>)</p>

<p> </p>

<h5 id="4-카메라-라이브러리-버튼에-이벤트-할당"><span class="me-2"><strong>4. 카메라, 라이브러리 버튼에 이벤트 할당</strong></span><a href="#4-카메라-라이브러리-버튼에-이벤트-할당" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kd">@IBAction</span>  <span class="kd">func</span> <span class="nf">btnActTakePhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="kt">UIImagePickerController</span><span class="o">.</span><span class="nf">isSourceTypeAvailable</span><span class="p">(</span><span class="o">.</span><span class="n">camera</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="o">.</span><span class="n">camera</span>
        <span class="nf">doTaskByCameraAuthorization</span><span class="p">()</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 사용이 불가능합니다."</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActFromLoadPhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="o">.</span><span class="n">photoLibrary</span>
    <span class="nf">doTaskByPhotoAuthorization</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">UIImagePickerController.isSourceTypeAvailable(.camera)</code> - iOS 시뮬레이터에서는 카메라 사용이 불가능합니다. 카메라 사용이 불가능한 경우(false) 경고 메시지를 띄웁니다.</li>
  <li><code class="language-plaintext highlighter-rouge">self.imagePickerController.sourceType = .camera</code>는 이미지 피커 컨트롤러가 카메라 모드로, <code class="language-plaintext highlighter-rouge">.photoLibrary</code> 는 사진 보관함 모드로 동작합니다.</li>
</ul>

<p> </p>

<h3 id="firebase에서-storage-생성"><span class="me-2"><strong>Firebase에서 Storage 생성</strong></span><a href="#firebase에서-storage-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>파이어베이스 웹 콘솔 왼쪽에 <code class="language-plaintext highlighter-rouge">Storage</code>라는 메뉴가 있습니다. Storage가 생성되지 않았다면 먼저 시작하기 버튼을 눌러 새로 생성해야 합니다.</p>

<p><a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-9.58.22.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-9.58.22.jpg" alt="" loading="lazy"></a></p>

<p> </p>

<p>폴더 만들기 버튼을 눌러 <code class="language-plaintext highlighter-rouge">images/users</code> 하위 폴더를 생성합니다. 이 폴더에 프로필 사진이 <code class="language-plaintext highlighter-rouge">uid</code> 로 구분되어 저장될 것입니다.</p>

<p><a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-19-pm-9.42.51.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-19-pm-9.42.51.jpg" alt="" loading="lazy"></a>  <a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-19-pm-9.43.14.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-19-pm-9.43.14.jpg" alt="" loading="lazy"></a></p>

<p> </p>

<p>Storage는 기본적으로 인증된 경우에만 쓰기, 읽기를 허락하고 있으므로 별도의 규칙(Rules)은 편의상 생략합니다.</p>

<p> </p>

<p> </p>

<h3 id="사진-업로드-기능-구현"><span class="me-2"><strong>사진 업로드 기능 구현</strong></span><a href="#사진-업로드-기능-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://stackoverflow.com/questions/49934195/how-to-upload-multiple-image-on-firebase-using-swift">코드 출처</a></p>

<p>앞서 파이어베이스에 사진을 업로드할 때 원본+섬네일 두 개를 올리기로 했습니다. Swift에 있는 파이어베이스의 파일 업로드 기능은 파일 한 개만 동작하기 때문에 두 개 이상을 올리려면 복잡한 과정을 거쳐야 합니다.</p>

<p> </p>

<h5 id="1-뷰-컨트롤러의-멤버-변수-추가"><span class="me-2"><strong>1. 뷰 컨트롤러의 멤버 변수 추가</strong></span><a href="#1-뷰-컨트롤러의-멤버-변수-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>/// Here is the completion block
typealias FileCompletionBlock = () -&gt; Void
var block: FileCompletionBlock?
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">() -&gt; Void</code> 클로저 변수를 <code class="language-plaintext highlighter-rouge">typealias</code>를 사용해 <code class="language-plaintext highlighter-rouge">FileCompletionBlock</code>라는 이름을 붙여줬습니다.</li>
  <li><code class="language-plaintext highlighter-rouge">block</code> - 파일 업로드가 완료되면 해야 할 작업들을 지정하는 클로저 변수입니다.</li>
</ul>

<p> </p>

<h5 id="2-커스텀-타입-imagewithname-생성"><span class="me-2"><strong>2. 커스텀 타입 ImageWithName 생성</strong></span><a href="#2-커스텀-타입-imagewithname-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">struct</span> <span class="kt">ImageWithName</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span>
    <span class="k">var</span> <span class="nv">fileExt</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">compressionQuality</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이 타입은 이름과 이미지(<code class="language-plaintext highlighter-rouge">UIImage</code>), 확장자, 압축 퀄리티를 저장할 수 있으며, 필요한 이유는 잠시 후에 설명합니다.</p>

<p> </p>

<h5 id="3-클래스-firebasefilemanager-추가---핵심-업로드-로직"><span class="me-2"><strong>3. 클래스 FirebaseFileManager 추가 - 핵심 업로드 로직</strong></span><a href="#3-클래스-firebasefilemanager-추가---핵심-업로드-로직" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
</pre></td><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">Firebase</span>

<span class="kd">class</span> <span class="kt">FirebaseFileManager</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span>
    
    <span class="c1">/// Singleton instance</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">shared</span><span class="p">:</span> <span class="kt">FirebaseFileManager</span> <span class="o">=</span> <span class="kt">FirebaseFileManager</span><span class="p">()</span>
    
    <span class="c1">/// Path</span>
    <span class="k">var</span> <span class="nv">kFirFileStorageRef</span> <span class="o">=</span> <span class="kt">Storage</span><span class="o">.</span><span class="nf">storage</span><span class="p">()</span><span class="o">.</span><span class="nf">reference</span><span class="p">()</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="s">"Files"</span><span class="p">)</span>
    
    <span class="c1">/// Current uploading task</span>
    <span class="k">var</span> <span class="nv">currentUploadTask</span><span class="p">:</span> <span class="kt">StorageUploadTask</span><span class="p">?</span>
    
    <span class="kd">func</span> <span class="nf">setChild</span><span class="p">(</span><span class="n">_</span> <span class="nv">pathString</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">kFirFileStorageRef</span> <span class="o">=</span> <span class="kt">Storage</span><span class="o">.</span><span class="nf">storage</span><span class="p">()</span><span class="o">.</span><span class="nf">reference</span><span class="p">()</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="n">pathString</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">upload</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">,</span>
                <span class="n">withName</span> <span class="nv">fileName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                <span class="nv">block</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="c1">// Create a reference to the file you want to upload</span>
        <span class="k">let</span> <span class="nv">fileRef</span> <span class="o">=</span> <span class="n">kFirFileStorageRef</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
        
        <span class="c1">/// Start uploading</span>
        <span class="nf">upload</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">withName</span><span class="p">:</span> <span class="n">fileName</span><span class="p">,</span> <span class="nv">atPath</span><span class="p">:</span> <span class="n">fileRef</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">in</span>
            <span class="nf">block</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">upload</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">,</span>
                <span class="n">withName</span> <span class="nv">fileName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                <span class="n">atPath</span> <span class="nv">path</span><span class="p">:</span> <span class="kt">StorageReference</span><span class="p">,</span>
                <span class="nv">block</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="n">_</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">let</span> <span class="nv">metadata</span> <span class="o">=</span> <span class="kt">StorageMetadata</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">fileExt</span> <span class="o">=</span> <span class="n">fileName</span><span class="p">[</span><span class="n">fileName</span><span class="o">.</span><span class="n">count</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">..&lt;</span> <span class="n">fileName</span><span class="o">.</span><span class="n">count</span><span class="p">]</span>
        <span class="n">metadata</span><span class="o">.</span><span class="n">contentType</span> <span class="o">=</span> <span class="n">fileExt</span> <span class="o">==</span> <span class="s">"jpg"</span> <span class="p">?</span> <span class="s">"image/jpeg"</span>
            <span class="p">:</span> <span class="n">fileExt</span> <span class="o">==</span> <span class="s">"png"</span> <span class="p">?</span> <span class="s">"image/png"</span> <span class="p">:</span> <span class="s">"application/octet-stream"</span>
        
        <span class="c1">// Upload the file to the path</span>
        <span class="k">self</span><span class="o">.</span><span class="n">currentUploadTask</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="nf">putData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nv">metadata</span><span class="p">:</span> <span class="n">metadata</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">guard</span> <span class="n">metadata</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// Uh-oh, an error occurred!</span>
                <span class="nf">block</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            <span class="c1">// Metadata contains file metadata such as size, content-type.</span>
            <span class="c1">// let size = metadata.size</span>
            
            <span class="c1">// You can also access to download URL after upload.</span>
            <span class="n">path</span><span class="o">.</span><span class="n">downloadURL</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
                <span class="k">guard</span> <span class="n">url</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="c1">// Uh-oh, an error occurred!</span>
                    <span class="nf">block</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>
                    <span class="k">return</span>
                <span class="p">}</span>
                <span class="nf">block</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">cancel</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">currentUploadTask</span><span class="p">?</span><span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">shared</code> - 이 클래스는 싱글턴 인스턴스로 전역에서 사용합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">kFirFileStorageRef</code> - 업로드할 파일이 있는 경로입니다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">setChild(_:)</code> - 업로드할 경로를 직접 설정합니다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">metadata.contentType</code> - 파일 확장자에 따라 메타데이트의 컨텐트 타입을 설정합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">path.putData</code> - 데이터를 업로드합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">block</code> - 업로드가 완료되면 실행되는 클로저입니다.</li>
</ul>

<p> </p>

<p>저도 이해하지 못했기 때문에 위의 코드를 설명하는 것은 불가능하고 업로드의 원리만 요약하면 다음과 같습니다.</p>

<ol>
  <li>스토리지 생성</li>
  <li>루트 경로에 대한 레퍼런스 생성</li>
  <li>(업로드하고자 하는) 이미지 경로에 대한 레퍼런스 생성</li>
  <li>레퍼런스의 <code class="language-plaintext highlighter-rouge">putData</code> 기능을 이용해 업로드</li>
</ol>

<p>파이어베이스 공식 매뉴얼(<a href="https://firebase.google.com/docs/storage/ios/upload-files?authuser=0#upload_files">출처</a>)에 있는 핵심 기본 코드는 아래와 같습니다. 파이어베이스 스토리지에 루트 폴더의 <code class="language-plaintext highlighter-rouge">image</code> 폴더 안에 <code class="language-plaintext highlighter-rouge">rivers.jpg</code>라는 이름으로 메모리상의 <code class="language-plaintext highlighter-rouge">data</code>를 업로드합니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre>// Create a root reference
let storageRef = storage.reference()

// Data in memory
let data = Data()

// Create a reference to the file you want to upload
let riversRef = storageRef.child("images/rivers.jpg")

// Upload the file to the path "images/rivers.jpg"
let uploadTask = riversRef.putData(data, metadata: nil) { (metadata, error) in
  guard let metadata = metadata else {
    // Uh-oh, an error occurred!
    return
  }
  // Metadata contains file metadata such as size, content-type.
  let size = metadata.size
  // You can also access to download URL after upload.
  riversRef.downloadURL { (url, error) in
    guard let downloadURL = url else {
      // Uh-oh, an error occurred!
      return
    }
  }
}
</pre></td></tr></tbody></table></code></div></div>

<p> </p>

<p> </p>

<h5 id="4-뷰-컨트롤러에-firebase-이미지-업로드-함수-추가"><span class="me-2"><strong>4. 뷰 컨트롤러에 Firebase 이미지 업로드 함수 추가</strong></span><a href="#4-뷰-컨트롤러에-firebase-이미지-업로드-함수-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">func</span> <span class="nf">uploadImage</span><span class="p">(</span><span class="n">forIndex</span> <span class="nv">index</span><span class="p">:</span><span class="kt">Int</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="p">[</span><span class="kt">ImageWithName</span><span class="p">])</span> <span class="p">{</span>
    
    <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">images</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
        <span class="c1">/// Perform uploading</span>
        
        <span class="k">let</span> <span class="nv">imageInfo</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">name</span>
        <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">image</span>
        <span class="k">let</span> <span class="nv">fileExt</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">fileExt</span>
        <span class="k">let</span> <span class="nv">quality</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">compressionQuality</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">fileExt</span> <span class="o">==</span> <span class="s">"jpg"</span>
                <span class="p">?</span> <span class="n">image</span><span class="o">.</span><span class="nf">jpegData</span><span class="p">(</span><span class="nv">compressionQuality</span><span class="p">:</span> <span class="n">quality</span><span class="p">)</span>
                <span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="nf">pngData</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="k">let</span> <span class="nv">fileName</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">.</span><span class="se">\(</span><span class="n">fileExt</span><span class="se">)</span><span class="s">"</span>
        
        <span class="kt">FirebaseFileManager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setChild</span><span class="p">(</span><span class="s">"images/users"</span><span class="p">)</span>
        <span class="kt">FirebaseFileManager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">upload</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">withName</span><span class="p">:</span> <span class="n">fileName</span><span class="p">,</span> <span class="nv">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">in</span>
            <span class="c1">/// After successfully uploading call this method again by increment the **index = index + 1**</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">url</span> <span class="p">??</span> <span class="s">"Couldn't not upload. You can either check the error or just skip this."</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">uploadImage</span><span class="p">(</span><span class="nv">forIndex</span><span class="p">:</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span>
        <span class="p">})</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="n">block</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nf">block</span><span class="o">!</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">image</code>, <code class="language-plaintext highlighter-rouge">fileExt</code>, <code class="language-plaintext highlighter-rouge">quality</code> - <code class="language-plaintext highlighter-rouge">ImageWithName</code> 타입의 객체로부터 정보를 가져오며 파일 이름, 이미지 압축 형식 등을 지정할 떄 사용합니다.</li>
</ul>

<p>이 함수는 <code class="language-plaintext highlighter-rouge">FirebaseFileMananger</code>를 이용해 파일을 업로드하는데, 재귀 형식으로 실행해서(<code class="language-plaintext highlighter-rouge">index + 1</code>) 여러 파일을 업로드한 뒤 마지막 파일까지 업로드가 완료되었을 때에만 <code class="language-plaintext highlighter-rouge">block</code>을 실행해서 중복 실행됨을 방지함과 동시에 파일이 끝까지 완료된 뒤 클로저가 실행되도록 하여 파일 업로드의 비동기성을 해소했습니다.</p>

<p> </p>

<h5 id="5-뷰-컨트롤러에-시작-함수-startuploading-추가"><span class="me-2"><strong>5. 뷰 컨트롤러에 시작 함수 startUploading 추가</strong></span><a href="#5-뷰-컨트롤러에-시작-함수-startuploading-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">startUploading</span><span class="p">(</span><span class="nv">images</span><span class="p">:</span> <span class="p">[</span><span class="kt">ImageWithName</span><span class="p">],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">FileCompletionBlock</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">images</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="nf">completion</span><span class="p">()</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="n">block</span> <span class="o">=</span> <span class="n">completion</span>
    <span class="nf">uploadImage</span><span class="p">(</span><span class="nv">forIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">block</code> - 업로드 완료 후 실행될 클로저입니다.</li>
  <li><code class="language-plaintext highlighter-rouge">uploadImage(forIndex: 0, images: images)</code> - 이미지 업로드를 재귀적으로 실시합니다.</li>
</ul>

<p> </p>

<h5 id="6-회원가입-제출-버튼에-업로드-관련-부분-추가"><span class="me-2"><strong>6. 회원가입 제출 버튼에 업로드 관련 부분 추가</strong></span><a href="#6-회원가입-제출-버튼에-업로드-관련-부분-추가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kd">@IBAction</span>  <span class="kd">func</span> <span class="nf">btnActSubmit</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...... //</span>
    
    <span class="kt">Auth</span><span class="o">.</span><span class="nf">auth</span><span class="p">()</span><span class="o">.</span><span class="nf">createUser</span><span class="p">(</span><span class="nv">withEmail</span><span class="p">:</span> <span class="n">userEmail</span><span class="p">,</span> <span class="nv">password</span><span class="p">:</span> <span class="n">userPassword</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">self</span><span class="p">]</span> <span class="n">authResult</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
        <span class="c1">// ...... //</span>
        
        <span class="c1">// 이미지 업로드</span>
        <span class="k">let</span> <span class="nv">images</span> <span class="o">=</span> <span class="p">[</span>
            <span class="kt">ImageWithName</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">/thumb_</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">"</span><span class="p">,</span> <span class="nv">image</span><span class="p">:</span> <span class="n">userProfileThumbnail</span><span class="p">,</span> <span class="nv">fileExt</span><span class="p">:</span> <span class="s">"jpg"</span><span class="p">),</span>
            <span class="kt">ImageWithName</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">/original_</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">"</span><span class="p">,</span> <span class="nv">image</span><span class="p">:</span> <span class="n">imgProfilePicture</span><span class="o">.</span><span class="n">image</span><span class="o">!</span><span class="p">,</span> <span class="nv">fileExt</span><span class="p">:</span> <span class="s">"png"</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="nf">startUploading</span><span class="p">(</span><span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="o">!</span><span class="se">)</span><span class="s"> 님의 회원가입이 완료되었습니다."</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"완료"</span><span class="p">)</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">images</code>- 이미지와 정보가 담긴 <code class="language-plaintext highlighter-rouge">ImageWithName</code> 객체의 배열입니다. 첫 번째는 섬네일, 두 번째는 원본 파일입니다.</li>
  <li><code class="language-plaintext highlighter-rouge">startUploading(images: images) { ... }</code> - <code class="language-plaintext highlighter-rouge">completion</code> 부분이 트레일링 클로저로 작성되었습니다. 회원가입이 완료되었다는 경고창을 표시한 뒤, 회원가입 창을 닫습니다.</li>
  <li><code class="language-plaintext highlighter-rouge">user.uid</code> - 회원의 고유값으로 저장 및 불러오기 할 때 이 값을 이용합니다.</li>
</ul>

<p> </p>

<p>[caption id=”attachment_4116” align=”alignnone” width=”428”] <a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.39.49.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.39.49.jpg" alt="" loading="lazy"></a> 라이브러리 버튼을 눌렀을 때[/caption]</p>

<p> </p>

<p>[caption id=”attachment_4117” align=”alignnone” width=”401”] <a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.40.10.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.40.10.jpg" alt="" loading="lazy"></a> 사진 미리보기[/caption]</p>

<p> </p>

<p>[caption id=”attachment_4118” align=”alignnone” width=”416”] <a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.43.17.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.43.17.jpg" alt="" loading="lazy"></a> 회원가입 완료[/caption]</p>

<p> </p>

<p><a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.44.50.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.44.50.jpg" alt="" loading="lazy"></a>  <a href="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.45.45.jpg" class="popup img-link shimmer"><img src="/assets/img/wp-content/uploads/2021/09/screenshot-2021-09-20-pm-10.45.45.jpg" alt="" loading="lazy"></a></p>

<p> </p>

<h4 id="전체-코드-이전-내용-포함"><span class="me-2"><strong>전체 코드 (이전 내용 포함)</strong></span><a href="#전체-코드-이전-내용-포함" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
</pre></td><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">UIKit</span>
<span class="kd">import</span> <span class="kt">Firebase</span>
<span class="kd">import</span> <span class="kt">Photos</span>

<span class="kd">class</span> <span class="kt">SignUpViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">txtUserEmail</span><span class="p">:</span> <span class="kt">UITextField</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">txtPassword</span><span class="p">:</span> <span class="kt">UITextField</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">txtPasswordConfirm</span><span class="p">:</span> <span class="kt">UITextField</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">lblPasswordConfirmed</span><span class="p">:</span> <span class="kt">UILabel</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">pkvInteresting</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="o">!</span>
    <span class="kd">@IBOutlet</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">imgProfilePicture</span><span class="p">:</span> <span class="kt">UIImageView</span><span class="o">!</span>
    
    <span class="k">var</span> <span class="nv">ref</span><span class="p">:</span> <span class="kt">DatabaseReference</span><span class="o">!</span>
    
    <span class="k">let</span> <span class="nv">interestingList</span> <span class="o">=</span> <span class="p">[</span><span class="s">"치킨"</span><span class="p">,</span> <span class="s">"피자"</span><span class="p">,</span> <span class="s">"탕수육"</span><span class="p">]</span>
    <span class="k">var</span> <span class="nv">selectedInteresting</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span>
    
    <span class="k">let</span> <span class="nv">imagePickerController</span> <span class="o">=</span> <span class="kt">UIImagePickerController</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">userProfileThumbnail</span><span class="p">:</span> <span class="kt">UIImage</span><span class="o">!</span>
    
    <span class="c1">/// Here is the completion block</span>
    <span class="kd">typealias</span> <span class="kt">FileCompletionBlock</span> <span class="o">=</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span>
    <span class="k">var</span> <span class="nv">block</span><span class="p">:</span> <span class="kt">FileCompletionBlock</span><span class="p">?</span>
    
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>
        
        <span class="c1">// 피커뷰 딜리게이트, 데이터소스 연결</span>
        <span class="n">pkvInteresting</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">pkvInteresting</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        
        <span class="n">txtUserEmail</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">txtPassword</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">txtPasswordConfirm</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        
        <span class="c1">// firebase reference 초기화</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="kt">Database</span><span class="o">.</span><span class="nf">database</span><span class="p">()</span><span class="o">.</span><span class="nf">reference</span><span class="p">()</span>
        
        <span class="n">selectedInteresting</span> <span class="o">=</span> <span class="n">interestingList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        
        <span class="c1">// 사진, 카메라 권한 (최초 요청)</span>
        <span class="kt">PHPhotoLibrary</span><span class="o">.</span><span class="n">requestAuthorization</span> <span class="p">{</span> <span class="n">status</span> <span class="k">in</span>
        <span class="p">}</span>
        <span class="kt">AVCaptureDevice</span><span class="o">.</span><span class="nf">requestAccess</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">video</span><span class="p">)</span> <span class="p">{</span> <span class="n">granted</span> <span class="k">in</span>
        <span class="p">}</span>
        
        <span class="c1">// 사진: 이미지 피커에 딜리게이트 생성</span>
        <span class="n">imagePickerController</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        
        <span class="c1">// 최초 섬네일 생성</span>
        <span class="n">userProfileThumbnail</span> <span class="o">=</span> <span class="nf">makeImageThumbnail</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="k">#imageLiteral</span><span class="p">(</span><span class="nv">resourceName</span><span class="p">:</span> <span class="s">"sample"</span><span class="p">),</span> <span class="nv">maxSize</span><span class="p">:</span> <span class="mi">200</span><span class="p">)</span>
        

    <span class="p">}</span>
    
    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActCancel</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActReset</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">txtUserEmail</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">txtPassword</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">txtPasswordConfirm</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        <span class="n">pkvInteresting</span><span class="o">.</span><span class="nf">selectedRow</span><span class="p">(</span><span class="nv">inComponent</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1">// -- 사진 초기화 --</span>
    <span class="p">}</span>
    
    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActSubmit</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">userEmail</span> <span class="o">=</span> <span class="n">txtUserEmail</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
              <span class="k">let</span> <span class="nv">userPassword</span> <span class="o">=</span> <span class="n">txtPassword</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
              <span class="k">let</span> <span class="nv">userPasswordConfirm</span> <span class="o">=</span> <span class="n">txtPasswordConfirm</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="k">guard</span> <span class="n">userPassword</span> <span class="o">!=</span> <span class="s">""</span>
                <span class="o">&amp;&amp;</span> <span class="n">userPasswordConfirm</span> <span class="o">!=</span> <span class="s">""</span>
                <span class="o">&amp;&amp;</span> <span class="n">userPassword</span> <span class="o">==</span> <span class="n">userPasswordConfirm</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"패스워드가 일치하지 않습니다."</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="kt">Auth</span><span class="o">.</span><span class="nf">auth</span><span class="p">()</span><span class="o">.</span><span class="nf">createUser</span><span class="p">(</span><span class="nv">withEmail</span><span class="p">:</span> <span class="n">userEmail</span><span class="p">,</span> <span class="nv">password</span><span class="p">:</span> <span class="n">userPassword</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">self</span><span class="p">]</span> <span class="n">authResult</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
            <span class="c1">// 이메일, 비밀번호 전송</span>
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">user</span> <span class="o">=</span> <span class="n">authResult</span><span class="p">?</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="n">error</span><span class="o">!.</span><span class="n">localizedDescription</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
            
            <span class="c1">// 추가 정보 입력</span>
            <span class="n">ref</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="s">"users"</span><span class="p">)</span><span class="o">.</span><span class="nf">child</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span><span class="o">.</span><span class="nf">setValue</span><span class="p">([</span><span class="s">"interesting"</span><span class="p">:</span> <span class="n">selectedInteresting</span><span class="p">])</span>
            
            <span class="c1">// 이미지 업로드</span>
            <span class="k">let</span> <span class="nv">images</span> <span class="o">=</span> <span class="p">[</span>
                <span class="kt">ImageWithName</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">/thumb_</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">"</span><span class="p">,</span> <span class="nv">image</span><span class="p">:</span> <span class="n">userProfileThumbnail</span><span class="p">,</span> <span class="nv">fileExt</span><span class="p">:</span> <span class="s">"jpg"</span><span class="p">),</span>
                <span class="kt">ImageWithName</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">/original_</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="se">)</span><span class="s">"</span><span class="p">,</span> <span class="nv">image</span><span class="p">:</span> <span class="n">imgProfilePicture</span><span class="o">.</span><span class="n">image</span><span class="o">!</span><span class="p">,</span> <span class="nv">fileExt</span><span class="p">:</span> <span class="s">"png"</span><span class="p">)</span>
            <span class="p">]</span>
            <span class="nf">startUploading</span><span class="p">(</span><span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span> <span class="p">{</span>
                <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="o">!</span><span class="se">)</span><span class="s"> 님의 회원가입이 완료되었습니다."</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"완료"</span><span class="p">)</span> <span class="p">{</span> <span class="n">action</span> <span class="k">in</span>
                    <span class="k">self</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActTakePhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="kt">UIImagePickerController</span><span class="o">.</span><span class="nf">isSourceTypeAvailable</span><span class="p">(</span><span class="o">.</span><span class="n">camera</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="o">.</span><span class="n">camera</span>
            <span class="nf">doTaskByCameraAuthorization</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 사용이 불가능합니다."</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">btnActFromLoadPhoto</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="o">.</span><span class="n">sourceType</span> <span class="o">=</span> <span class="o">.</span><span class="n">photoLibrary</span>
        <span class="nf">doTaskByPhotoAuthorization</span><span class="p">()</span>
    <span class="p">}</span>
    
    
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">SignUpViewController</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">startUploading</span><span class="p">(</span><span class="nv">images</span><span class="p">:</span> <span class="p">[</span><span class="kt">ImageWithName</span><span class="p">],</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">FileCompletionBlock</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">images</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
            <span class="nf">completion</span><span class="p">()</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">block</span> <span class="o">=</span> <span class="n">completion</span>
        <span class="nf">uploadImage</span><span class="p">(</span><span class="nv">forIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">uploadImage</span><span class="p">(</span><span class="n">forIndex</span> <span class="nv">index</span><span class="p">:</span><span class="kt">Int</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="p">[</span><span class="kt">ImageWithName</span><span class="p">])</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">images</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
            <span class="c1">/// Perform uploading</span>
            
            <span class="k">let</span> <span class="nv">imageInfo</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">name</span>
            <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">image</span>
            <span class="k">let</span> <span class="nv">fileExt</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">fileExt</span>
            <span class="k">let</span> <span class="nv">quality</span> <span class="o">=</span> <span class="n">imageInfo</span><span class="o">.</span><span class="n">compressionQuality</span>
            
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">fileExt</span> <span class="o">==</span> <span class="s">"jpg"</span>
                    <span class="p">?</span> <span class="n">image</span><span class="o">.</span><span class="nf">jpegData</span><span class="p">(</span><span class="nv">compressionQuality</span><span class="p">:</span> <span class="n">quality</span><span class="p">)</span>
                    <span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="nf">pngData</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span>
            <span class="p">}</span>
            
            <span class="k">let</span> <span class="nv">fileName</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">.</span><span class="se">\(</span><span class="n">fileExt</span><span class="se">)</span><span class="s">"</span>
            
            <span class="kt">FirebaseFileManager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setChild</span><span class="p">(</span><span class="s">"images/users"</span><span class="p">)</span>
            <span class="kt">FirebaseFileManager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">upload</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">withName</span><span class="p">:</span> <span class="n">fileName</span><span class="p">,</span> <span class="nv">block</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">in</span>
                <span class="c1">/// After successfully uploading call this method again by increment the **index = index + 1**</span>
                <span class="nf">print</span><span class="p">(</span><span class="n">url</span> <span class="p">??</span> <span class="s">"Couldn't not upload. You can either check the error or just skip this."</span><span class="p">)</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">uploadImage</span><span class="p">(</span><span class="nv">forIndex</span><span class="p">:</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">images</span><span class="p">:</span> <span class="n">images</span><span class="p">)</span>
            <span class="p">})</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">block</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="nf">block</span><span class="o">!</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">SignUpViewController</span><span class="p">:</span> <span class="kt">UIPickerViewDelegate</span><span class="p">,</span> <span class="kt">UIPickerViewDataSource</span> <span class="p">{</span>
    <span class="c1">// 컴포넌트(열) 개수</span>
    <span class="kd">func</span> <span class="nf">numberOfComponents</span><span class="p">(</span><span class="k">in</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="p">}</span>
    
    <span class="c1">// 리스트(행) 개수</span>
    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">numberOfRowsInComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">interestingList</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>
    
    <span class="c1">// 피커뷰 목록 표시</span>
    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">titleForRow</span> <span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">forComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">interestingList</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
    <span class="p">}</span>
    
    <span class="c1">// 특정 피커뷰 선택시 selectedInteresting에 할당</span>
    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">didSelectRow</span> <span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">inComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">selectedInteresting</span> <span class="o">=</span> <span class="n">interestingList</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">SignUpViewController</span><span class="p">:</span> <span class="kt">UITextFieldDelegate</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">setLabelPasswordConfirm</span><span class="p">(</span><span class="n">_</span> <span class="nv">password</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">_</span> <span class="nv">passwordConfirm</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>  <span class="p">{</span>
        
        <span class="k">guard</span> <span class="n">passwordConfirm</span> <span class="o">!=</span> <span class="s">""</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
            <span class="k">return</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">password</span> <span class="o">==</span> <span class="n">passwordConfirm</span> <span class="p">{</span>
            <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">green</span>
            <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"패스워드가 일치합니다."</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">red</span>
            <span class="n">lblPasswordConfirmed</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"패스워드가 일치하지 않습니다."</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">textFieldShouldReturn</span><span class="p">(</span><span class="n">_</span> <span class="nv">textField</span><span class="p">:</span> <span class="kt">UITextField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        
        <span class="k">switch</span> <span class="n">textField</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nv">txtUserEmail</span><span class="p">:</span>
            <span class="n">txtPassword</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
        <span class="k">case</span> <span class="nv">txtPassword</span><span class="p">:</span>
            <span class="n">txtPasswordConfirm</span><span class="o">.</span><span class="nf">becomeFirstResponder</span><span class="p">()</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="n">textField</span><span class="o">.</span><span class="nf">resignFirstResponder</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="kc">false</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">textField</span><span class="p">(</span><span class="n">_</span> <span class="nv">textField</span><span class="p">:</span> <span class="kt">UITextField</span><span class="p">,</span> <span class="n">shouldChangeCharactersIn</span> <span class="nv">range</span><span class="p">:</span> <span class="kt">NSRange</span><span class="p">,</span> <span class="n">replacementString</span> <span class="nv">string</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">textField</span> <span class="o">==</span> <span class="n">txtPasswordConfirm</span> <span class="p">{</span>
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="n">txtPassword</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
                  <span class="k">let</span> <span class="nv">passwordConfirmBefore</span> <span class="o">=</span> <span class="n">txtPasswordConfirm</span><span class="o">.</span><span class="n">text</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span> <span class="kc">true</span>
            <span class="p">}</span>
            <span class="k">let</span> <span class="nv">passwordConfirm</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">isEmpty</span> <span class="p">?</span> <span class="n">passwordConfirmBefore</span><span class="p">[</span><span class="mi">0</span><span class="o">..&lt;</span><span class="p">(</span><span class="n">passwordConfirmBefore</span><span class="o">.</span><span class="n">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> <span class="p">:</span> <span class="n">passwordConfirmBefore</span> <span class="o">+</span> <span class="n">string</span>
            <span class="nf">setLabelPasswordConfirm</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">passwordConfirm</span><span class="p">)</span>
            
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">SignUpViewController</span><span class="p">:</span> <span class="kt">UIImagePickerControllerDelegate</span><span class="p">,</span> <span class="kt">UINavigationControllerDelegate</span> <span class="p">{</span>
    
    <span class="kd">func</span> <span class="nf">imagePickerController</span><span class="p">(</span><span class="n">_</span> <span class="nv">picker</span><span class="p">:</span> <span class="kt">UIImagePickerController</span><span class="p">,</span> <span class="n">didFinishPickingMediaWithInfo</span> <span class="nv">info</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIImagePickerController</span><span class="o">.</span><span class="kt">InfoKey</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="kt">UIImagePickerController</span><span class="o">.</span><span class="kt">InfoKey</span><span class="o">.</span><span class="n">originalImage</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">UIImage</span> <span class="p">{</span>
            <span class="n">imgProfilePicture</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
            <span class="n">userProfileThumbnail</span> <span class="o">=</span> <span class="nf">makeImageThumbnail</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span> <span class="nv">maxSize</span><span class="p">:</span> <span class="mi">200</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="kt">UIAlertAction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">settingsUrl</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">openSettingsURLString</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">canOpenURL</span><span class="p">(</span><span class="n">settingsUrl</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">open</span><span class="p">(</span><span class="n">settingsUrl</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="k">in</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"Settings opened: </span><span class="se">\(</span><span class="n">success</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> <span class="c1">// Prints true</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">doTaskByPhotoAuthorization</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kt">PHPhotoLibrary</span><span class="o">.</span><span class="nf">authorizationStatus</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">notDetermined</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; not determined"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"사진 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 정보 없음"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="n">openSetting</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">restricted</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; restricted"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"시스템에 의해 거부되었습니다."</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">denied</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; denied"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"사진 기능 권한이 거부되어 사용할 수 없습니다. 사진 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 거부됨"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:))</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">authorized</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; authorized"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">limited</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; limited"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="kd">@unknown</span> <span class="k">default</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"photo auth &gt;&gt;&gt; unknown"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"unknown"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">doTaskByCameraAuthorization</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="kt">AVCaptureDevice</span><span class="o">.</span><span class="nf">authorizationStatus</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="kt">AVMediaType</span><span class="o">.</span><span class="n">video</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">notDetermined</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; not determined"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 정보 없음"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="n">openSetting</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">restricted</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; restricted"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"시스템에 의해 거부되었습니다."</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">denied</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; denied"</span><span class="p">)</span>
            <span class="nf">simpleDestructiveYesAndNo</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"카메라 기능 권한이 거부되어 사용할 수 없습니다. 카메라 권한 설정을 변경하시겠습니까?"</span><span class="p">,</span> <span class="nv">title</span><span class="p">:</span> <span class="s">"권한 거부됨"</span><span class="p">,</span> <span class="nv">yesHandler</span><span class="p">:</span> <span class="nf">openSetting</span><span class="p">(</span><span class="nv">action</span><span class="p">:))</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">authorized</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; authorized"</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">imagePickerController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="kd">@unknown</span> <span class="k">default</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"camera auth &gt;&gt;&gt; unknown"</span><span class="p">)</span>
            <span class="nf">simpleAlert</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"unknown"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/devlog/">DevLog</a>,
          <a href="/categories/swift-uikit/">Swift UIKit</a>,
          <a href="/categories/firebase/">Firebase</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Swift(%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8):%20Firebase(%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4)%20%EC%9D%B8%EC%A6%9D%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EC%9D%B4%EC%9A%A9%ED%95%9C%20%ED%9A%8C%EC%9B%90%20%EA%B0%80%EC%9E%85%20%EA%B8%B0%EB%8A%A5%20%EA%B5%AC%ED%98%84%202%20-%20%ED%94%84%EB%A1%9C%ED%95%84%20%EC%82%AC%EC%A7%84%20%EC%98%AC%EB%A6%AC%EA%B8%B0%20(%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C)%20-%20BGSMM&url=https%3A%2F%2Fayaysir.github.io%2Fposts%2Fswift%25EC%258A%25A4%25EC%259C%2584%25ED%2594%2584%25ED%258A%25B8-firebase%25ED%258C%258C%25EC%259D%25B4%25EC%2596%25B4%25EB%25B2%25A0%25EC%259D%25B4%25EC%258A%25A4-%25EC%259D%25B8%25EC%25A6%259D-%25EA%25B8%25B0%25EB%258A%25A5%25EC%259D%2584-%25EC%259D%25B4%25EC%259A%25A9%25ED%2595%259C-%25ED%259A%258C-2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Swift(%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8):%20Firebase(%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4)%20%EC%9D%B8%EC%A6%9D%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EC%9D%B4%EC%9A%A9%ED%95%9C%20%ED%9A%8C%EC%9B%90%20%EA%B0%80%EC%9E%85%20%EA%B8%B0%EB%8A%A5%20%EA%B5%AC%ED%98%84%202%20-%20%ED%94%84%EB%A1%9C%ED%95%84%20%EC%82%AC%EC%A7%84%20%EC%98%AC%EB%A6%AC%EA%B8%B0%20(%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C)%20-%20BGSMM&u=https%3A%2F%2Fayaysir.github.io%2Fposts%2Fswift%25EC%258A%25A4%25EC%259C%2584%25ED%2594%2584%25ED%258A%25B8-firebase%25ED%258C%258C%25EC%259D%25B4%25EC%2596%25B4%25EB%25B2%25A0%25EC%259D%25B4%25EC%258A%25A4-%25EC%259D%25B8%25EC%25A6%259D-%25EA%25B8%25B0%25EB%258A%25A5%25EC%259D%2584-%25EC%259D%25B4%25EC%259A%25A9%25ED%2595%259C-%25ED%259A%258C-2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fayaysir.github.io%2Fposts%2Fswift%25EC%258A%25A4%25EC%259C%2584%25ED%2594%2584%25ED%258A%25B8-firebase%25ED%258C%258C%25EC%259D%25B4%25EC%2596%25B4%25EB%25B2%25A0%25EC%259D%25B4%25EC%258A%25A4-%25EC%259D%25B8%25EC%25A6%259D-%25EA%25B8%25B0%25EB%258A%25A5%25EC%259D%2584-%25EC%259D%25B4%25EC%259A%25A9%25ED%2595%259C-%25ED%259A%258C-2%2F&text=Swift(%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8):%20Firebase(%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4)%20%EC%9D%B8%EC%A6%9D%20%EA%B8%B0%EB%8A%A5%EC%9D%84%20%EC%9D%B4%EC%9A%A9%ED%95%9C%20%ED%9A%8C%EC%9B%90%20%EA%B0%80%EC%9E%85%20%EA%B8%B0%EB%8A%A5%20%EA%B5%AC%ED%98%84%202%20-%20%ED%94%84%EB%A1%9C%ED%95%84%20%EC%82%AC%EC%A7%84%20%EC%98%AC%EB%A6%AC%EA%B8%B0%20(%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C)%20-%20BGSMM" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/xcode-where-is-infoplist/">Xcode 에서 Info.plist 파일이 없을 때</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/swift-urlscheme/">Swift: iOS에서 Custom URL Scheme 등록해서 url로 앱 열기</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/swift-translation/">SwiftUI: 번역 기능 (Translation) 사용하기 (iOS 18 이상)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/swift-extensioncontext-error-ios18/">Swift: Action Extension에서 extensionContext가 iOS 18에서 작동하지 않는 문제</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/swift-action-extension/">Swift: Action Extension으로 사진을 내 앱으로 전송하기</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/audiokit/">AudioKit</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%8C%ED%96%A5%EC%9D%B4%EB%A1%A0/">음향이론</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/">자바스크립트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring-boot/">spring-boot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vue-js/">vue-js</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/qbasic-%EA%B8%B0%EC%B4%88/">qbasic-기초</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/swift-firebaseui-1-firebaseui%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1665932400"
  data-df="ll"
  
>
  Oct 17, 2022
</time>

              <h4 class="pt-0 my-2">Swift + FirebaseUI: (1) FirebaseUI를 이용해 이메일 로그인 화면 구현</h4>
              <div class="text-muted">
                <p>##### **참고**  - [Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드)](http://yoonbumtae.com/?p=4090)     먼저 참고글에서 **파이어베이스 프로젝트에서 Authentification 생성** 섹션을 읽고 이메일 인증을 인증 메뉴에 추가하는 프로젝트 설...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/swift-firebase-%EC%9D%B5%EB%AA%85-%EA%B3%84%EC%A0%95%EC%9D%84-%EC%98%81%EA%B5%AC-%EA%B3%84%EC%A0%95%EC%9C%BC%EB%A1%9C-%EC%A0%84%ED%99%98-%EC%9D%B4%EB%A9%94%EC%9D%BC%EB%A1%9C-%ED%9A%8C%EC%9B%90/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1663686000"
  data-df="ll"
  
>
  Sep 21, 2022
</time>

              <h4 class="pt-0 my-2">Swift + Firebase: 익명 계정을 영구 계정으로 전환 (이메일로 회원가입)</h4>
              <div class="text-muted">
                <p>## **참고**  - [Apple 플랫폼에서 익명으로 Firebase에 인증](https://firebase.google.com/docs/auth/ios/anonymous-auth?hl=ko#swift_7)  익명 인증 (Authenticate with Firebase Anonymously)과 관련된 내용은 위 공식 매뉴얼을 참고하면 됩니다. 다만 ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1631977200"
  data-df="ll"
  
>
  Sep 19, 2021
</time>

              <h4 class="pt-0 my-2">Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)</h4>
              <div class="text-muted">
                <p>이전 글     Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 기초 로그인 로그아웃 구현 (스토리보드)      이전 글에서 로그인하는 방법을 다뤘으나, 파이어베이스 콘솔에서 임의로 만든 사용자를 대상으로 로그인 과정을 진행했습니다.  회원가입 메뉴를 만들어서 누구나 회원가입을 할 수 있고, 가입한 아이디를 통해 로그인이 가...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-firebase%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9D%B8%EC%A6%9D-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%9A%8C/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Swift(스위프트): Firebase(파이어베이스) 인증 기능을 이용한 회원 가입 기능 구현 1 (스토리보드)</p>
    </a>
  

  
    <a
      href="/posts/swift%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-nscodingnssecurecoding%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%81%B4%EB%9E%98%EC%8A%A4-%EA%B0%9D%EC%B2%B4-%EC%A7%81%EB%A0%AC%ED%99%94%EB%B0%94%EC%9D%B4/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Swift(스위프트): NSCoding(NSSecureCoding)을 이용한 클래스 객체 직렬화(바이너리 인코딩)</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/ayaysir">ayaysir</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/audiokit/">AudioKit</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%8C%ED%96%A5%EC%9D%B4%EB%A1%A0/">음향이론</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/">자바스크립트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring-boot/">spring-boot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vue-js/">vue-js</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9E%90%EB%B0%94/">자바</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/qbasic-%EA%B8%B0%EC%B4%88/">qbasic-기초</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'ayaysir/ayaysir.github.io',
      'data-repo-id': 'R_kgDOOurl2w',
      'data-category': 'General',
      'data-category-id': 'DIC_kwDOOurl284CxFIa',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

